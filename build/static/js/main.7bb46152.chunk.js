(this["webpackJsonpbooks-app"]=this["webpackJsonpbooks-app"]||[]).push([[0],{10:function(e,t,r){e.exports={input:"search-form_input__3f60y",buttonsPanel:"search-form_buttonsPanel__-WVqX",onError:"search-form_onError__3-zHo",dropdowns:"search-form_dropdowns__3xXpD",dropdown:"search-form_dropdown__3Yy0P",label:"search-form_label__1N85Z",select:"search-form_select__3JdOq"}},12:function(e,t,r){e.exports={inputWrapper:"FormType_inputWrapper__3HW-L",error:"FormType_error__2gzEy",search:"FormType_search__26aUC",clearSearch:"FormType_clearSearch__yKxtO",clearSearchUnfocused:"FormType_clearSearchUnfocused__sfiz6",input:"FormType_input__nNhl8",errorSpan:"FormType_errorSpan__lzM5N"}},15:function(e,t,r){e.exports={container:"book-card_container__1q1ed",image:"book-card_image__17Rt1",category:"book-card_category__tsFOD",bookName:"book-card_bookName__3C2Hm",authors:"book-card_authors__3JrRV"}},19:function(e,t,r){e.exports={booksContainer:"books-container_booksContainer__3GLwj",bottomWrapper:"books-container_bottomWrapper__3Bhyh",scrollButtonsPanelFixed:"books-container_scrollButtonsPanelFixed__3W8We",scrollButtonsPanel:"books-container_scrollButtonsPanel__1Vsug"}},25:function(e,t,r){e.exports={header:"header_header__NoY6z",head:"header_head__1a7_l",inputForm:"header_inputForm__3R3aD"}},26:function(e,t,r){e.exports={scrollButtonHidden:"FastScrollButton_scrollButtonHidden__16x3p",scrollButton:"FastScrollButton_scrollButton__389pU",scrollButtonIcon:"FastScrollButton_scrollButtonIcon__3J9vU"}},29:function(e,t,r){e.exports={button:"button_button__3SAC4",buttonOrange:"button_buttonOrange__2K32E",buttonBlue:"button_buttonBlue__Nuzpm",buttonPink:"button_buttonPink__29ig9",buttonLightBlue:"button_buttonLightBlue__IJZko",buttonGray:"button_buttonGray__WPMJn",buttonWhite:"button_buttonWhite__3ZvDJ",buttonNoFill:"button_buttonNoFill__aMnU4"}},31:function(e,t,r){e.exports={preloader:"preloader_preloader__3EjGu",image:"preloader_image__2B5n8"}},32:function(e,t,r){e.exports={wrapper:"preloaderBar_wrapper__1y2GP",bar:"preloaderBar_bar__2_CyS",gradient:"preloaderBar_gradient__2ZXyx"}},41:function(e,t,r){},45:function(e,t,r){e.exports={header:"counter_header__1YC6x"}},46:function(e,t,r){e.exports={iconsContent:"material-icon_iconsContent__1GQEl"}},52:function(e,t,r){},53:function(e,t,r){},6:function(e,t,r){e.exports={container:"book-info_container__i_983",side:"book-info_side__2FrIB",image:"book-info_image__3nnKa",category:"book-info_category__1YFVd",bookName:"book-info_bookName__28RYi",authors:"book-info_authors__3CBtG",description:"book-info_description__3QeTd",buttonsPanel:"book-info_buttonsPanel__3WxN-"}},82:function(e,t,r){"use strict";r.r(t);var n,o=r(0),c=r.n(o),a=r(24),s=r.n(a),i=(r(52),r(53),r(41)),l=r.n(i),u=r(4),d=r(25),b=r.n(d),j=r.p+"static/media/bg_books2.c463d432.png",m=r(10),O=r.n(m),h=r(21),p=r(12),_=r.n(p),f=r(1),x=function(e){return function(t){var r=t.input,n=t.meta,o=t.resetFieldBy,c=t.placeholder,a=(n.error||n.submitError)&&n.touched;return Object(f.jsxs)("div",{className:_.a.inputWrapper+" "+_.a.search,children:[o&&Object(f.jsx)("div",{className:_.a.clearSearch+" "+(!n.dirty&&_.a.clearSearchUnfocused),onClick:function(){o.change(r.name,""),o.resetFieldState(r.name)},children:" "}),Object(f.jsx)(e,Object(u.a)(Object(u.a)({},r),{},{className:_.a.input+" "+(a?_.a.error:""),placeholder:c})),a&&Object(f.jsx)("span",{className:_.a.errorSpan,children:n.error})]})}},g=(x("textarea"),x("input")),v=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(t,r){return t||r(e)}),void 0)}},k=function(e){return e?void 0:"Required"},N=(n=15,r(5)),y=r(29),B=r.n(y),T=function(e){var t=e.disabled,r=e.onClick,n=e.title,o=e.mode,c=void 0===o?"NoFill":o,a=e.type,s=void 0===a?"button":a,i=e.children;return Object(f.jsx)("button",{className:B.a.button+" "+B.a["button"+c],disabled:t,onClick:r,type:s,title:n,children:i})},E=function(e){var t=e.onSubmit,r=Object(N.c)((function(e){return e.requestFormReducer.selectProps}));return Object(f.jsx)(h.b,{onSubmit:t,initialValues:{bookName:"",categories:"all",orderBy:"relevance"},render:function(e){var t=e.submitError,n=e.handleSubmit,o=e.pristine,c=e.form,a=e.submitting;return Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsx)(h.a,{name:"bookName",placeholder:"Enter book here",component:g,resetFieldBy:c,type:"input",validate:v(k)}),Object(f.jsxs)("div",{className:O.a.dropdowns,children:[Object(f.jsxs)("div",{className:O.a.dropdown,children:[Object(f.jsx)("label",{className:O.a.label,children:"Categories"}),Object(f.jsx)(h.a,{className:O.a.select,name:"categories",component:"select",children:r.categories.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))})]}),Object(f.jsxs)("div",{className:O.a.dropdown,children:[Object(f.jsx)("label",{className:O.a.label,children:"Sorting by"}),Object(f.jsx)(h.a,{className:O.a.select,name:"orderBy",component:"select",children:r.orderBy.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))})]})]}),Object(f.jsxs)("div",{className:O.a.buttonsPanel,children:[Object(f.jsx)(T,{type:"submit",disabled:a,mode:"White",children:"Done"}),Object(f.jsx)(T,{type:"reset",disabled:o||a,onClick:function(){c.reset()},mode:"Gray",children:"X"})]}),t&&Object(f.jsx)("span",{className:O.a.onError,children:t})]})}})},S=r(18),F=r.n(S),I=r(30),w=r(17),q=r(43),R=r.n(q),C=r(44),P=R.a.create({baseURL:"https://www.googleapis.com/books/v1/"}),L=function(e,t){var r=e.bookName,n=e.categories,o=e.orderBy,c=t.startIndex,a=void 0===c?0:c,s=t.maxResults,i=void 0===s?30:s,l="+intitle:".concat(r),u="all"===n?"":"+subject:".concat(n),d=Object.fromEntries(Object.entries({q:"".concat(l).concat(u),orderBy:o,startIndex:a,maxResults:i,projection:"full",key:"AIzaSyAYL_h8bTjemmcHhKGtf2V9-CtalYYMT04"}).filter((function(e){return""!==e[1]})).filter((function(e){return void 0!==e[1]}))),b=decodeURIComponent(C.stringify(d));return P.get("volumes?".concat(b)).then((function(e){return e.data}))},V={books:[],totalBooks:-1,isFetching:!1,pagination:{maxResults:30,startIndex:0},request:{orderBy:"relevance",categories:"all",bookName:""},selectProps:{categories:["all","art","biography","computers","history","medical","poetry"],orderBy:["relevance","newest"]},bookToView:{bookId:void 0,foundedBook:null},apiError:null},W=function(e){return{type:"request-form-reducer/SET-BOOKS",books:e}},G=function(){return{type:"request-form-reducer/CLEAR-BOOKS-LIST"}},U=function(e){return{type:"request-form-reducer/SET-TOTAL-BOOKS-COUNT",totalBooks:e}},D=function(e){return{type:"request-form-reducer/SET-BOOK-ID-TO-VIEW",bookId:e}},A=function(e){return{type:"request-form-reducer/SET-FOUNDED-BOOK-TO-VIEW",foundedBook:e}},K=function(e){return{type:"request-form-reducer/TOGGLE-IS-FETCHING",isFetching:e}},z=function(e){return{type:"request-form-reducer/NEXT-INDEX",startIndex:e}},X=function(e){return{type:"request-form-reducer/SAVE-REQUEST",request:e}},H=function(e){return{type:"request-form-reducer/SAVE-API-ERROR",error:e}},Y=function(e,t){return function(){var r=Object(I.a)(F.a.mark((function r(n){var o;return F.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(K(!0)),r.prev=1,r.next=4,L(e,t);case 4:o=r.sent,n(W(o.items)),n(U(o.totalItems)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),alert("Error from Thunk is: "+r.t0);case 12:n(K(!1));case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"request-form-reducer/TOGGLE-IS-FETCHING":return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case"request-form-reducer/SET-BOOKS":var r;return Object(u.a)(Object(u.a)({},e),{},{books:[].concat(Object(w.a)(e.books),Object(w.a)(null!==(r=t.books)&&void 0!==r?r:[]))});case"request-form-reducer/CLEAR-BOOKS-LIST":return Object(u.a)(Object(u.a)({},e),{},{books:[]});case"request-form-reducer/SET-TOTAL-BOOKS-COUNT":return Object(u.a)(Object(u.a)({},e),{},{totalBooks:t.totalBooks});case"request-form-reducer/NEXT-INDEX":return Object(u.a)(Object(u.a)({},e),{},{pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{startIndex:t.startIndex})});case"request-form-reducer/SAVE-REQUEST":return Object(u.a)(Object(u.a)({},e),{},{request:t.request});case"request-form-reducer/SET-BOOK-ID-TO-VIEW":return Object(u.a)(Object(u.a)({},e),{},{bookToView:Object(u.a)(Object(u.a)({},e.bookToView),{},{bookId:t.bookId})});case"request-form-reducer/SET-FOUNDED-BOOK-TO-VIEW":return Object(u.a)(Object(u.a)({},e),{},{bookToView:Object(u.a)(Object(u.a)({},e.bookToView),{},{foundedBook:t.foundedBook})});case"request-form-reducer/SAVE-API-ERROR":return Object(u.a)(Object(u.a)({},e),{},{apiError:t.error});default:return e}},M=r(3),Q=function(e){return e.requestFormReducer.isFetching},Z=function(e){return e.requestFormReducer.books},$=function(e){return e.requestFormReducer.request},ee=function(e){return e.requestFormReducer.pagination},te=function(e){return e.requestFormReducer.totalBooks},re=function(e){return e.requestFormReducer.bookToView},ne=function(e){return e.requestFormReducer.apiError},oe=G,ce=z,ae=X,se={backgroundImage:"linear-gradient(0deg, #00000080, #00000020, #00000080), url(".concat(j,")")},ie=function(){var e=Object(M.g)(),t=Object(N.b)(),r=Object(N.c)(ee);return Object(f.jsxs)("header",{style:se,className:b.a.header,children:[Object(f.jsx)("h1",{className:b.a.head,children:"Search for books"}),Object(f.jsx)("div",{className:b.a.inputForm,children:Object(f.jsx)(E,{onSubmit:function(n){e("/search"),t(ce(0)),t(oe()),t(ae(n)),t(Y(n,Object(u.a)(Object(u.a)({},r),{},{startIndex:0})))}})})]})},le=r(19),ue=r.n(le),de=r.p+"static/media/AnyBook.16c1d794.jpg",be=r(45),je=r.n(be),me=function(e){var t=e.totalBooks;return Object(f.jsxs)("h2",{className:je.a.header,children:["Found ",t," results"]})},Oe=r(31),he=r.n(Oe),pe=r.p+"static/media/Spinner.27ac9e88.svg",_e=function(e){var t=e.hSize,r=void 0===t?"100%":t;return Object(f.jsx)("span",{className:he.a.preloader,children:Object(f.jsx)("img",{className:he.a.image,style:{height:"".concat(r)},src:pe,alt:"preload"})})},fe=r(15),xe=r.n(fe),ge=r(13),ve=function(e){var t=e.id,r=e.imageUrl,n=e.category,o=e.title,c=e.authors;return Object(f.jsxs)(ge.b,{to:"/book/"+t,className:xe.a.container,children:[Object(f.jsx)("img",{className:xe.a.image,alt:"bookName",src:r}),Object(f.jsx)("div",{className:xe.a.category,children:n}),Object(f.jsx)("div",{className:xe.a.bookName,children:o}),Object(f.jsx)("p",{className:xe.a.authors,children:c})]})},ke=r(11),Ne=r(26),ye=r.n(Ne),Be=function(e){var t=e.goTo,r=e.title,n=Object(o.useState)(!1),c=Object(ke.a)(n,2),a=c[0],s=c[1],i=function(){s(window.pageYOffset>50)};return Object(o.useEffect)((function(){window.addEventListener("scroll",i)}),[]),Object(f.jsx)("button",{type:"button",className:ye.a.scrollButton+" "+(a?"":ye.a.scrollButtonHidden),title:r||"Go ".concat(t),onClick:function(){window.scrollTo({left:0,top:"top"===t?0:1e7,behavior:"smooth"})},children:Object(f.jsx)("span",{className:ye.a.scrollButtonIcon,children:"expand_".concat("top"===t?"less":"more")})})},Te=z,Ee=function(){var e=Object(N.c)(ee),t=e.maxResults,r=e.startIndex,n=Object(N.b)(),o=Object(N.c)(Q),c=Object(N.c)($),a=Object(N.c)(te),s=Object(N.c)(Z);return Object(f.jsxs)("div",{children:[o||a<0||Object(f.jsx)(me,{totalBooks:a}),Object(f.jsx)("div",{className:ue.a.booksContainer,children:s.length>0?s.map((function(e){var t=e.id,r=e.volumeInfo,n=r.imageLinks,o=r.categories,c=r.title,a=r.authors;return Object(f.jsx)(ve,{id:t,imageUrl:(null===n||void 0===n?void 0:n.thumbnail)||(null===n||void 0===n?void 0:n.smallThumbnail)||de,category:o,title:c,authors:a},t)})):o&&Object(f.jsx)(_e,{hSize:"50rem"})}),0!==s.length&&Object(f.jsx)("div",{className:ue.a.bottomWrapper,children:Object(f.jsxs)(T,{disabled:o||a-(r+t)<=0,onClick:function(){var e=r+t;n(Te(e)),n(Y(c,{maxResults:t,startIndex:e}))},mode:"Orange",title:function(){var e=a-s.length;return"".concat(e<1?0:e," more")}(),children:["  ",o&&Object(f.jsx)(_e,{hSize:"2rem"})," Load more"]})}),Object(f.jsx)("div",{className:ue.a.scrollButtonsPanelFixed,children:Object(f.jsxs)("div",{className:ue.a.scrollButtonsPanel,children:[Object(f.jsx)(Be,{goTo:"top"}),Object(f.jsx)(Be,{goTo:"bottom"})]})})]})},Se=r(6),Fe=r.n(Se),Ie=r(46),we=r.n(Ie),qe=function(e){var t=e.icon_name;return Object(f.jsx)("span",{className:we.a.iconsContent,children:t})},Re=r.p+"static/media/open-book.58326e6d.png",Ce=r(32),Pe=r.n(Ce),Le=function(e){var t=e.height,r=void 0===t?"1.5rem":t;return Object(f.jsx)("div",{className:Pe.a.wrapper,style:{height:"".concat(r)},children:Object(f.jsx)("div",{className:Pe.a.bar,children:" "})})},Ve=function(){var e=Object(N.c)(ne);return Object(f.jsxs)("div",{className:Fe.a.container,children:[Object(f.jsxs)("div",{className:Fe.a.side,children:[Object(f.jsx)("img",{className:Fe.a.image,alt:"emptyPreloader",src:Re}),Object(f.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:e})]}),Object(f.jsxs)("div",{className:Fe.a.side,children:[Object(f.jsx)("p",{className:Fe.a.category,style:{width:"70%"},children:Object(f.jsx)(Le,{height:"1.8rem"})}),Object(f.jsx)("h2",{className:Fe.a.bookName,style:{width:"50%"},children:Object(f.jsx)(Le,{height:"2.25rem"})}),Object(f.jsx)("article",{className:Fe.a.authors,style:{width:"60%"},children:Object(f.jsx)(Le,{height:"1.8rem"})}),Object(f.jsx)("p",{className:Fe.a.description,children:Object(w.a)(Array(8)).map((function(e,t){return Object(f.jsx)(Le,{height:"1.7rem"},t)}))}),Object(f.jsx)("div",{className:Fe.a.buttonsPanel,children:["Pink","Gray"].map((function(e,t){return Object(f.jsx)(T,{disabled:!0,mode:e,title:"PreButton",children:Object(f.jsx)("div",{style:{width:"5rem"},children:Object(f.jsx)(Le,{})})},e+t)}))})]})]})},We=function(){var e=Object(N.b)(),t=Object(M.h)().bookId,r=Object(N.c)(re).foundedBook,n=Object(N.c)(te),c=Object(M.g)();if(Object(o.useEffect)((function(){(null===r||void 0===r?void 0:r.id)!==t&&(e(D(t)),e(function(e){return function(){var t=Object(I.a)(F.a.mark((function t(r){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(H(null)),t.prev=1,t.next=4,o=e,P.get("volumes/".concat(o)).then((function(e){return e.data}));case 4:n=t.sent,r(A(n)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),r(A(null)),r(H("\u041d\u0415 \u041d\u0410\u0419\u0414\u0415\u041d\u041e \u041a\u041d\u0418\u0413 \u041f\u041e \u0414\u0410\u041d\u041d\u041e\u041c\u0423 iD: "+e));case 12:case"end":return t.stop()}var o}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t||"test")))}),[]),null===r||r.id!==t)return Object(f.jsx)(Ve,{});var a,s=r.volumeInfo,i=s.imageLinks,l=s.categories,u=s.title,d=s.authors,b=s.description,j=s.previewLink;return Object(f.jsxs)("div",{className:Fe.a.container,children:[Object(f.jsx)("div",{className:Fe.a.side,children:Object(f.jsx)("img",{className:Fe.a.image,alt:"bookName",src:(null===i||void 0===i?void 0:i.thumbnail)||(null===i||void 0===i?void 0:i.smallThumbnail)||de})}),Object(f.jsxs)("div",{className:Fe.a.side,children:[Object(f.jsx)("p",{className:Fe.a.category,children:l}),Object(f.jsx)("h2",{className:Fe.a.bookName,title:"Book header",children:u}),Object(f.jsx)("article",{className:Fe.a.authors,title:"Authors",children:d}),Object(f.jsx)("p",{className:Fe.a.description,children:(a=b,a.replace(/<.+?>/g,"").replace(/&nbsp;/gi,""))}),Object(f.jsxs)("div",{className:Fe.a.buttonsPanel,children:[Object(f.jsx)("a",{href:j,target:"_blank",rel:"noopener noreferrer",role:"button",children:Object(f.jsxs)(T,{disabled:!j,mode:"White",title:"Read in Google",children:[Object(f.jsx)(qe,{icon_name:"menu_book"})," Read"]})}),Object(f.jsxs)(T,{disabled:n<=0,mode:"LightBlue",title:"Go back",onClick:function(){return c(-1)},children:[Object(f.jsx)(qe,{icon_name:"reply"})," To List"]})]})]})]})},Ge=function(){return Object(f.jsxs)("section",{className:l.a.ui,children:[Object(f.jsx)(ie,{}),Object(f.jsx)("div",{children:Object(f.jsxs)(M.d,{children:[Object(f.jsx)(M.b,{path:"/",element:Object(f.jsx)(M.a,{to:"/search"})}),Object(f.jsx)(M.b,{path:"/search",element:Object(f.jsx)(Ee,{})}),Object(f.jsx)(M.b,{path:"/book/:bookId",element:Object(f.jsx)(We,{})}),Object(f.jsx)(M.b,{path:"*",element:Object(f.jsx)("h1",{children:"This site NOT FOUND. Try another address"})})]})})]})},Ue=r(20),De=r(47),Ae={requestFormReducer:J},Ke=Object(Ue.b)(Ae),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ue.c,Xe=Object(Ue.d)(Ke,ze(Object(Ue.a)(De.a))),He=function(){return Object(f.jsx)(N.a,{store:Xe,children:Object(f.jsx)(ge.a,{children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(Ge,{})})})})},Ye=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,83)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),o(e),c(e),a(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(He,{})}),document.getElementById("root")),Ye()}},[[82,1,2]]]);
//# sourceMappingURL=main.7bb46152.chunk.js.map